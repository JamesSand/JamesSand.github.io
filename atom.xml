<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>JamesSand&#39;s Blog</title>
  
  
  <link href="http://jamessand.github.io/atom.xml" rel="self"/>
  
  <link href="http://jamessand.github.io/"/>
  <updated>2022-07-20T09:21:35.120Z</updated>
  <id>http://jamessand.github.io/</id>
  
  <author>
    <name>JamesSand</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>僵尸网络流量分析</title>
    <link href="http://jamessand.github.io/2022/07/18/Zombi-traffic/"/>
    <id>http://jamessand.github.io/2022/07/18/Zombi-traffic/</id>
    <published>2022-07-18T14:22:15.000Z</published>
    <updated>2022-07-20T09:21:35.120Z</updated>
    
    <content type="html"><![CDATA[<h2 id="http-流量占-tcp-流量的比重"><a href="#http-流量占-tcp-流量的比重" class="headerlink" title="http 流量占 tcp 流量的比重"></a>http 流量占 tcp 流量的比重</h2><blockquote><p> 因为 tcp 流量实在分析不了，只能入手 http 流量，看看这么搞是不是合理的</p></blockquote><p>不幸的是 <code>2022-03-31-2000-tcp.pcap</code></p><p>里边只有 255 http 流量，但是有 3766382 tcp 流量，所以我们还是要回到 tcp port 的聚类上。</p><h2 id="tar-解析"><a href="#tar-解析" class="headerlink" title="tar 解析"></a>tar 解析</h2><blockquote><p>tar -&gt; rawtar_paser.py</p></blockquote><ul><li>因为我觉得每次解压缩 tar 太慢也太麻烦，所以我先将 pcap 中我需要的内容提炼到 json 文件中。</li><li>基于 tar_parser.py 实现。</li></ul><h2 id="提取每个压缩包中-IP-来访次数和来访端口号"><a href="#提取每个压缩包中-IP-来访次数和来访端口号" class="headerlink" title="提取每个压缩包中 IP 来访次数和来访端口号"></a>提取每个压缩包中 IP 来访次数和来访端口号</h2><blockquote><p>raw -&gt; ip_countip_port_counter.py</p></blockquote><p>在 ip_port_count.py 里边实现了，这一次我们采用的是每个 4h 时间段统计一次。</p><h2 id="基于-jaccard-和-dest-port-的-IP-cluster"><a href="#基于-jaccard-和-dest-port-的-IP-cluster" class="headerlink" title="基于 jaccard 和 dest port 的 IP cluster"></a>基于 jaccard 和 dest port 的 IP cluster</h2><blockquote><p>ip_count -&gt; jaccard_clusterjaccard_cluster.py</p></blockquote><ul><li><p>用 IP 所访问的端口以及端口次数作为标识，借助 jaccard 相似度对 IP 进行聚类。</p></li><li><p>我们采取若干天的 jaccard 平均值作为每个 IP 之间的评判依据。</p></li><li><p>根据 1 的门槛，我发现不同的聚类之间的 tcp payload 中的内容仍然极度相似，所以打算继续降低门槛。</p></li></ul><h2 id="进一步借助来访次数"><a href="#进一步借助来访次数" class="headerlink" title="进一步借助来访次数"></a>进一步借助来访次数</h2><ul><li>上一步中虽然我们通过 jaccard 相似度进行了分类，但是有可能存在一堆来访次数很少的端口，所以这一步我们借助来访次数进行进一步筛选</li><li>定义 ignore_threshold，将最多来访次数低于 ignore_threshold 的 IP 聚类忽略掉，这样我们获得的每一个聚类不断有 IP 的数量，还有最多来访次数。</li></ul><h2 id="专注于多的来访"><a href="#专注于多的来访" class="headerlink" title="专注于多的来访"></a>专注于多的来访</h2><h3 id="IP-和访问次数都多"><a href="#IP-和访问次数都多" class="headerlink" title="IP 和访问次数都多"></a>IP 和访问次数都多</h3><ul><li>注意到有一个 IP 聚类中存在 32 个 IP，同时最多来访次数是 323，观察了其中每个时间段的来访，都是很高的水平（大于 100）。</li><li>通过 wireshark 观察一些 IP 的来访包，其中包括如下几部分内容<ul><li>系统号：Win 2012；Win XP；Win7</li><li>SP*：SP0；SP1；SP3</li><li>内存：*** MB</li><li>带宽：*** bps</li></ul></li></ul><p><img src="C:\Users\James\AppData\Roaming\Typora\typora-user-images\image-20220719130803386.png" alt="image-20220719130803386"></p><h3 id="访问次数多"><a href="#访问次数多" class="headerlink" title="访问次数多"></a>访问次数多</h3><ul><li>除了上述这种文武双全的，还有一个聚类里边有 6 个 IP 但是却又 632 次访问。</li><li>这个 IP 聚类的 payload 结构和上边的聚类的结构差不多，只是所有的系统版本都是 Win2003 的</li></ul><p><img src="C:\Users\James\AppData\Roaming\Typora\typora-user-images\image-20220719133001459.png" alt="image-20220719133001459"></p><h3 id="IP-数量少"><a href="#IP-数量少" class="headerlink" title="IP 数量少"></a>IP 数量少</h3><ul><li>求异心理，所以我就看了看 IP 数量最少的 IP 聚类，最高访问次数只有 48 次。</li><li>特点是所有系统版本都是 Win7 的。</li></ul><p><img src="C:\Users\James\AppData\Roaming\Typora\typora-user-images\image-20220719133327348.png" alt="image-20220719133327348"></p><h2 id="访问特征统计"><a href="#访问特征统计" class="headerlink" title="访问特征统计"></a>访问特征统计</h2><blockquote><p>raw &amp; jaccard_cluster -&gt; jacccard_clusterfeature_count.py</p></blockquote><ul><li>jaccard 和最多来访次数都证明了这些聚类分的并没有什么错，所以我打算统计 payload 里边的内容的分布。</li><li>由于内存和 CPU 功率以及带宽都并不具有统计意义，所以这里只统计系统编号以及神秘的 SP</li><li>想做的是统计每一个 cluster 的 payload 中关键字的参数并放回到 jaccard_cluster 文件夹的对应文件当中。</li></ul><p>所有访问大头的都是发配置？</p><p>http 关联回去 tcp </p><p>IP 地址和配置信息一一对应</p><p>发送目的端口不是常用的端口</p><p>4 月 20 号开始，观察 http 请求</p>]]></content>
    
    
    <summary type="html">在这里更新一下项目进展，看看能不能有 tricky 的东西出来</summary>
    
    
    
    <category term="科研" scheme="http://jamessand.github.io/categories/%E7%A7%91%E7%A0%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux_command</title>
    <link href="http://jamessand.github.io/2022/07/18/Linux-command/"/>
    <id>http://jamessand.github.io/2022/07/18/Linux-command/</id>
    <published>2022-07-18T13:27:41.000Z</published>
    <updated>2022-07-20T09:21:20.788Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看目录的大小"><a href="#查看目录的大小" class="headerlink" title="查看目录的大小"></a>查看目录的大小</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du <span class="literal">-h</span> .</span><br></pre></td></tr></table></figure><ul><li>-h 代表 human可读， . 表示递归显示当前目录下所有目录的大小</li></ul><h2 id="文件移动指令"><a href="#文件移动指令" class="headerlink" title="文件移动指令"></a>文件移动指令</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> &lt;source file&gt; &lt;destination <span class="built_in">dir</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="解压-tar-gz-文件"><a href="#解压-tar-gz-文件" class="headerlink" title="解压 tar.gz 文件"></a>解压 tar.gz 文件</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xzvf xxx.tar.gz</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">一些常用的 Linux 服务器指令</summary>
    
    
    
    <category term="技术" scheme="http://jamessand.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>七月流火</title>
    <link href="http://jamessand.github.io/2022/07/17/July-diary/"/>
    <id>http://jamessand.github.io/2022/07/17/July-diary/</id>
    <published>2022-07-17T15:43:50.000Z</published>
    <updated>2022-07-20T09:21:45.180Z</updated>
    
    <content type="html"><![CDATA[<h2 id="2022-7-17"><a href="#2022-7-17" class="headerlink" title="2022.7.17"></a>2022.7.17</h2><h4 id="晚上-23-45"><a href="#晚上-23-45" class="headerlink" title="晚上 23:45"></a>晚上 23:45</h4><ul><li>今天下午开始研究 hexo，到了晚饭的时候基本上已经学会了。之前也有花过一下午学 hexo 但是不知道为什么当时就是没学会。可能自己和自己较劲的时候就是很难学进去东西的吧。</li><li>明天要回学校开红景天，希望能蹭一波学校公费医疗的福利。也许… 这也是我能从学校获取到的唯一的福利了吧。</li><li>最近在饭桌上总是被问到出国的事情，这让我 remake 的想法又增加了几分。我不知道自己有没有勇气做下这个看起来没那么理智的选择，或许我就是想逃避。我总是用一些当下形势下不可能做到的事情当做借口，逃离我现在所受到的苦难。</li><li>butterfly 还是没太搞明白，先这样吧，landscape 虽然丑，但是基本没有 bug！</li></ul>]]></content>
    
    
    <summary type="html">七月的事情，只有吹过的风知道</summary>
    
    
    
    <category term="记录" scheme="http://jamessand.github.io/categories/%E8%AE%B0%E5%BD%95/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo 入门指南</title>
    <link href="http://jamessand.github.io/2022/07/17/Hello-World/"/>
    <id>http://jamessand.github.io/2022/07/17/Hello-World/</id>
    <published>2022-07-17T09:44:53.000Z</published>
    <updated>2022-07-20T09:20:42.652Z</updated>
    
    <content type="html"><![CDATA[<p><strong>我是跟着官网的教程入门的</strong></p><h2 id="让-hexo-跑起来"><a href="#让-hexo-跑起来" class="headerlink" title="让 hexo 跑起来"></a>让 hexo 跑起来</h2><p>环境准备：安装 npm， git</p><p>安装 hexo</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo</span><br></pre></td></tr></table></figure><p>新建一个项目</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;site name&gt;</span><br></pre></td></tr></table></figure><p>启动项目</p><p>首先你需要切换到项目目录下，运行</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><h2 id="hexo-目录结构"><a href="#hexo-目录结构" class="headerlink" title="hexo 目录结构"></a>hexo 目录结构</h2><p>scanffolds 是存放模板的地方，渲染的时候会先调用里边对应的 template 后才会渲染。</p><p>sorce 是存放所有的 content 的地方</p><h2 id="创建一个-post"><a href="#创建一个-post" class="headerlink" title="创建一个 post"></a>创建一个 post</h2><p>在工程目录下</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &lt;blog name&gt;</span><br></pre></td></tr></table></figure><p><strong>这里 new 后边不用加参数是因为在 _config.yml 里边的 writing 部分的参数的 default_layout 默认为 post</strong></p><h2 id="创建一个-draft"><a href="#创建一个-draft" class="headerlink" title="创建一个 draft"></a>创建一个 draft</h2><p>工程目录下</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft &lt;draft name&gt;</span><br></pre></td></tr></table></figure><p>运行 hexo 显示 draft</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server <span class="literal">--draft</span></span><br></pre></td></tr></table></figure><p>发表一篇 draft</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish &lt;draft name&gt;</span><br></pre></td></tr></table></figure><h2 id="创建一个-page"><a href="#创建一个-page" class="headerlink" title="创建一个 page"></a>创建一个 page</h2><p>工程目录下</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &lt;page name&gt;</span><br></pre></td></tr></table></figure><p><strong>实际上，上述创建过程都是现在 scanffold 里边找到模板，再根据模板创建。</strong></p><h2 id="创建-categories"><a href="#创建-categories" class="headerlink" title="创建 categories"></a>创建 categories</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">categories: </span><br><span class="line"><span class="bullet">-</span> [Cat1, Cat1.1]</span><br><span class="line"><span class="bullet">-</span> [Cat2]</span><br><span class="line"><span class="bullet">-</span> [Cat3]</span><br></pre></td></tr></table></figure><p>其中 Cat1， 2， 3 是平行的三个分类。而 Cat1.1 是 Cat1 的一个子类，这一点在 url 上有所体现。</p><h2 id="部署到-github"><a href="#部署到-github" class="headerlink" title="部署到 github"></a>部署到 github</h2><p>安装 <code>hexo-deployer-git</code></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo<span class="literal">-deployer-git</span></span><br></pre></td></tr></table></figure><p>在 _config.yml 中将 deploy 相关设置改为</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/&lt;username&gt;/&lt;project&gt;</span></span><br><span class="line">  <span class="comment"># example, https://github.com/hexojs/hexojs.github.io</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>最后运行</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h2 id="Butterfly-主题"><a href="#Butterfly-主题" class="headerlink" title="Butterfly 主题"></a>Butterfly 主题</h2><p>如果你在换主体的时候遇到类似</p><p><code>extends includes/layout.pug block content include ./includes/mixins/post-ui.pug #recent-posts.recent</code></p><p>的问题的时候，看官方文档还是比较有用的，运行</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo<span class="literal">-renderer-pug</span> hexo<span class="literal">-renderer-stylus</span> <span class="literal">--save</span></span><br></pre></td></tr></table></figure><p>就解决了。</p><p><strong>Page Font-matter</strong></p><p>必须项：title, date, type （亲测 gallery 页面没有 type 也是可以的，只是最基本的三个页面 tags categories, link 需要有 type）</p><p><strong>Post Font-matter</strong></p><p>必须项：title, date</p><h3 id="图库"><a href="#图库" class="headerlink" title="图库"></a>图库</h3><p>也就是我的 gallery 页面，标签外挂 <code>galleryGroup</code></p><p>这个东西我还需要进一步学习一下</p><p><a href="https://butterfly.js.org/posts/4aa8abbe/#Gallery%E7%9B%B8%E5%86%8A%E5%9C%96%E5%BA%AB">Butterfly 安裝文檔(三) 主題配置-1 | Butterfly</a></p><h3 id="高亮文字"><a href="#高亮文字" class="headerlink" title="高亮文字"></a>高亮文字</h3><blockquote><p>一个很好玩的东西</p></blockquote><p>臣亮言：<mark class="hl-label default">先帝</mark> 创业未半，而<mark class="hl-label blue">中道崩殂</mark> 。今天下三分，<mark class="hl-label pink">益州疲敝</mark> ，此诚<mark class="hl-label red">危急存亡之秋</mark> 也！然侍衞之臣，不懈于内；<mark class="hl-label purple">忠志之士</mark> ，忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气；不宜妄自菲薄，引喻失义，以塞忠谏之路也。<br>宫中、府中，俱为一体；陟罚臧否，不宜异同。若有<mark class="hl-label orange">作奸</mark> 、<mark class="hl-label green">犯科</mark> ，及为忠善者，宜付有司，论其刑赏，以昭陛下平明之治；不宜偏私，使内外异法也。</p><h3 id="背景特效"><a href="#背景特效" class="headerlink" title="背景特效"></a>背景特效</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><h3 id="鼠标点击效果"><a href="#鼠标点击效果" class="headerlink" title="鼠标点击效果"></a>鼠标点击效果</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="网站副标题"><a href="#网站副标题" class="headerlink" title="网站副标题"></a>网站副标题</h3><blockquote><p>当然也是 motto 啦</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主页subtitle</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># loop (循环打字)</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source 调用第三方服务</span></span><br><span class="line">  <span class="comment"># source: false 关闭调用</span></span><br><span class="line">  <span class="comment"># source: 1  调用一言网的一句话（简体） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  调用一句网（简体） http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  调用今日诗词（简体） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 会先显示 source , 再显示 sub 的内容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果关闭打字效果，subtitle 只会显示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">今日事&amp;#44;今日毕</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Never</span> <span class="string">put</span> <span class="string">off</span> <span class="string">till</span> <span class="string">tomorrow</span> <span class="string">what</span> <span class="string">you</span> <span class="string">can</span> <span class="string">do</span> <span class="string">today</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">我是跟着官网的教程入门的</summary>
    
    
    
    <category term="技术" scheme="http://jamessand.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
</feed>
